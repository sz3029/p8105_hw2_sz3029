HW 2
================
Shihui Zhu sz3029

``` r
# This chunk loads all the packages used in this homework
library(readxl)
library(tidyverse)
```

# Problem 1

## Read in Mr. Trash Wheel dataset and clean the data

``` r
mr_trash_wheel_df <- 
  read_excel("data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
  sheet = 1,
  range = "A2:N408") %>%
  janitor::clean_names() %>%
  drop_na() %>%
  mutate(sports_balls = round(sports_balls, digits = 0))
```

## Read in precipitation data for 2018

``` r
preci_18_df <- 
  read_excel("data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
  sheet = 5,
  range = "A2:B14") %>%
  janitor::clean_names() %>%
  mutate(year = "2018")
```

## Read in precipitation data for 2019

``` r
preci_19_df <- 
  read_excel("data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
  sheet = 4,
  range = "A2:B14") %>%
  janitor::clean_names() %>%
  mutate(year = "2019")
```

## Combine precipitation data for 2018 and 2019, and convert month to character variable

``` r
preci_18_and_19_df <- 
  bind_rows(preci_18_df, preci_19_df) %>%
  mutate(month = month.name[month])
```

## Description for Mr. Trash Wheel dataset

The Mr. Trash Wheel dataset contains 14 variables: dumpster, month,
year, date, weight_tons, volume_cubic_yards, plastic_bottles,
polystyrene, cigarette_butts, glass_bottles, grocery_bags, chip_bags,
sports_balls, homes_powered. Columns from `plastic_bottles` to
`homes_powered` indicate different kinds of trash collected at Mr. Trash
Wheel. The dataset contains 344 rows and 14 columns of observations. The
data were collected from years 2014, 2015, 2016, 2017, 2018, 2019. The
total weight of trash collected over the 6 years was 1122.45 tons, with
a total volume of 5347 cubic yards. A table displaying the values of the
key variables for each year is shown below:

| skim_type | skim_variable      | year | n_missing | complete_rate | numeric.mean |   numeric.sd |  numeric.p0 | numeric.p25 |  numeric.p50 |  numeric.p75 | numeric.p100 | numeric.hist |
|:----------|:-------------------|-----:|----------:|--------------:|-------------:|-------------:|------------:|------------:|-------------:|-------------:|-------------:|:-------------|
| numeric   | weight_tons        | 2014 |         0 |             1 |     3.212500 | 8.804891e-01 |     1.24000 |     2.66000 |      3.16000 |      3.77750 |      5.33000 | ▂▇▇▇▁        |
| numeric   | weight_tons        | 2015 |         0 |             1 |     3.363380 | 7.935975e-01 |     1.83000 |     2.89500 |      3.40000 |      3.84500 |      5.62000 | ▃▅▇▃▁        |
| numeric   | weight_tons        | 2016 |         0 |             1 |     3.227255 | 8.039803e-01 |     1.74000 |     2.66000 |      3.16000 |      3.74000 |      5.05000 | ▅▆▇▃▂        |
| numeric   | weight_tons        | 2017 |         0 |             1 |     3.178909 | 7.368242e-01 |     1.50000 |     2.61000 |      3.30000 |      3.76500 |      4.67000 | ▂▇▅▇▃        |
| numeric   | weight_tons        | 2018 |         0 |             1 |     3.337527 | 6.615375e-01 |     0.96000 |     3.03000 |      3.31000 |      3.77000 |      4.62000 | ▁▁▅▇▃        |
| numeric   | weight_tons        | 2019 |         0 |             1 |     3.082667 | 5.686156e-01 |     2.26000 |     2.73000 |      3.06500 |      3.30750 |      5.10000 | ▅▇▂▁▁        |
| numeric   | volume_cubic_yards | 2014 |         0 |             1 |    15.204546 | 2.464441e+00 |     8.00000 |    14.75000 |     15.00000 |     17.00000 |     20.00000 | ▁▁▇▂▃        |
| numeric   | volume_cubic_yards | 2015 |         0 |             1 |    15.535211 | 2.228587e+00 |     7.00000 |    15.00000 |     15.00000 |     18.00000 |     18.00000 | ▁▁▁▇▅        |
| numeric   | volume_cubic_yards | 2016 |         0 |             1 |    16.000000 | 1.428286e+00 |    15.00000 |    15.00000 |     15.00000 |     18.00000 |     18.00000 | ▇▁▁▁▃        |
| numeric   | volume_cubic_yards | 2017 |         0 |             1 |    16.090909 | 1.456438e+00 |    15.00000 |    15.00000 |     15.00000 |     18.00000 |     18.00000 | ▇▁▁▁▅        |
| numeric   | volume_cubic_yards | 2018 |         0 |             1 |    15.322581 | 1.033791e+00 |    12.00000 |    15.00000 |     15.00000 |     15.00000 |     18.00000 | ▁▁▇▁▁        |
| numeric   | volume_cubic_yards | 2019 |         0 |             1 |    14.966667 | 1.825742e-01 |    14.00000 |    15.00000 |     15.00000 |     15.00000 |     15.00000 | ▁▁▁▁▇        |
| numeric   | plastic_bottles    | 2014 |         0 |             1 |  1877.045455 | 1.212055e+03 |   530.00000 |   972.50000 |   1540.00000 |   2385.00000 |   5960.00000 | ▇▅▂▁▁        |
| numeric   | plastic_bottles    | 2015 |         0 |             1 |  1917.323944 | 7.906958e+02 |   410.00000 |  1200.00000 |   1960.00000 |   2640.00000 |   3240.00000 | ▆▆▅▇▆        |
| numeric   | plastic_bottles    | 2016 |         0 |             1 |  2973.921569 | 9.300895e+02 |   950.00000 |  2340.00000 |   2980.00000 |   3690.00000 |   4450.00000 | ▃▆▇▇▇        |
| numeric   | plastic_bottles    | 2017 |         0 |             1 |  1997.818182 | 1.029120e+03 |   210.00000 |  1125.00000 |   2260.00000 |   2815.00000 |   3670.00000 | ▆▂▅▇▃        |
| numeric   | plastic_bottles    | 2018 |         0 |             1 |  1331.182796 | 6.519683e+02 |   300.00000 |   790.00000 |   1200.00000 |   1840.00000 |   3110.00000 | ▇▇▅▅▁        |
| numeric   | plastic_bottles    | 2019 |         0 |             1 |  1343.166667 | 7.894416e+02 |   240.00000 |   810.00000 |   1075.00000 |   1895.00000 |   3300.00000 | ▇▇▅▂▂        |
| numeric   | polystyrene        | 2014 |         0 |             1 |  2338.840909 | 1.259887e+03 |   630.00000 |  1577.50000 |   2075.00000 |   3017.50000 |   6540.00000 | ▇▇▃▂▁        |
| numeric   | polystyrene        | 2015 |         0 |             1 |  2502.957747 | 1.076671e+03 |   540.00000 |  1455.00000 |   2570.00000 |   3260.00000 |   5430.00000 | ▆▅▇▂▁        |
| numeric   | polystyrene        | 2016 |         0 |             1 |  3559.764706 | 9.359220e+02 |  1120.00000 |  3120.00000 |   3720.00000 |   4155.00000 |   5840.00000 | ▂▃▇▇▁        |
| numeric   | polystyrene        | 2017 |         0 |             1 |  1989.272727 | 9.581325e+02 |   340.00000 |  1130.00000 |   2330.00000 |   2780.00000 |   3240.00000 | ▆▂▂▇▇        |
| numeric   | polystyrene        | 2018 |         0 |             1 |  1274.731183 | 6.539888e+02 |   320.00000 |   840.00000 |   1020.00000 |   1620.00000 |   3160.00000 | ▇▇▅▂▁        |
| numeric   | polystyrene        | 2019 |         0 |             1 |  1519.333333 | 7.833171e+02 |   450.00000 |   915.00000 |   1350.00000 |   2175.00000 |   3300.00000 | ▇▇▅▅▂        |
| numeric   | cigarette_butts    | 2014 |         0 |             1 | 94590.909091 | 4.752396e+04 | 18000.00000 | 79500.00000 | 100000.00000 | 112750.00000 | 310000.00000 | ▂▇▁▁▁        |
| numeric   | cigarette_butts    | 2015 |         0 |             1 | 40225.352113 | 1.859892e+04 |  3000.00000 | 27500.00000 |  34000.00000 |  48000.00000 |  82000.00000 | ▁▇▅▁▃        |
| numeric   | cigarette_butts    | 2016 |         0 |             1 | 37639.215686 | 1.323293e+04 | 16000.00000 | 27000.00000 |  38000.00000 |  47500.00000 |  65000.00000 | ▇▇▇▇▂        |
| numeric   | cigarette_butts    | 2017 |         0 |             1 | 12709.090909 | 8.361448e+03 |  1000.00000 |  3500.00000 |  13000.00000 |  17500.00000 |  32000.00000 | ▇▇▇▂▃        |
| numeric   | cigarette_butts    | 2018 |         0 |             1 |  8637.634409 | 4.835195e+03 |  1500.00000 |  6000.00000 |   7000.00000 |  11000.00000 |  24000.00000 | ▇▇▃▂▁        |
| numeric   | cigarette_butts    | 2019 |         0 |             1 |  4650.666667 | 2.133735e+03 |   980.00000 |  3125.00000 |   4550.00000 |   6375.00000 |   8400.00000 | ▆▅▅▇▃        |
| numeric   | glass_bottles      | 2014 |         0 |             1 |    46.750000 | 2.227641e+01 |     7.00000 |    31.00000 |     46.50000 |     63.00000 |    110.00000 | ▅▇▇▃▁        |
| numeric   | glass_bottles      | 2015 |         0 |             1 |    32.774648 | 1.264933e+01 |    13.00000 |    22.50000 |     31.00000 |     42.00000 |     63.00000 | ▇▇▆▃▂        |
| numeric   | glass_bottles      | 2016 |         0 |             1 |    40.352941 | 1.197635e+01 |    10.00000 |    33.00000 |     41.00000 |     47.00000 |     65.00000 | ▂▂▇▅▂        |
| numeric   | glass_bottles      | 2017 |         0 |             1 |    20.545455 | 8.335151e+00 |     8.00000 |    13.50000 |     21.00000 |     26.00000 |     42.00000 | ▇▇▅▃▁        |
| numeric   | glass_bottles      | 2018 |         0 |             1 |     9.634409 | 8.341599e+00 |     2.00000 |     4.00000 |      6.00000 |     12.00000 |     38.00000 | ▇▂▁▁▁        |
| numeric   | glass_bottles      | 2019 |         0 |             1 |     8.533333 | 6.015688e+00 |     0.00000 |     4.00000 |      6.00000 |     13.75000 |     21.00000 | ▇▃▃▃▃        |
| numeric   | grocery_bags       | 2014 |         0 |             1 |   880.227273 | 4.709170e+02 |   224.00000 |   518.00000 |    796.00000 |   1133.50000 |   2560.00000 | ▇▇▃▁▁        |
| numeric   | grocery_bags       | 2015 |         0 |             1 |  1392.112676 | 8.529125e+02 |   190.00000 |   650.00000 |   1340.00000 |   2135.00000 |   3300.00000 | ▇▆▅▅▂        |
| numeric   | grocery_bags       | 2016 |         0 |             1 |  2292.098039 | 6.538325e+02 |  1240.00000 |  1840.00000 |   2210.00000 |   2655.00000 |   3750.00000 | ▆▇▆▂▃        |
| numeric   | grocery_bags       | 2017 |         0 |             1 |  1938.909091 | 8.823006e+02 |   600.00000 |  1070.00000 |   1950.00000 |   2715.00000 |   3460.00000 | ▇▂▆▅▅        |
| numeric   | grocery_bags       | 2018 |         0 |             1 |   752.150538 | 4.576923e+02 |    50.00000 |   360.00000 |    710.00000 |   1050.00000 |   2220.00000 | ▇▇▅▂▁        |
| numeric   | grocery_bags       | 2019 |         0 |             1 |   666.833333 | 3.054914e+02 |   180.00000 |   457.50000 |    650.00000 |    890.00000 |   1400.00000 | ▅▇▆▅▁        |
| numeric   | chip_bags          | 2014 |         0 |             1 |  1610.204545 | 8.183572e+02 |   361.00000 |  1126.75000 |   1495.00000 |   1975.25000 |   5085.00000 | ▆▇▂▁▁        |
| numeric   | chip_bags          | 2015 |         0 |             1 |  1849.154930 | 9.646787e+02 |   330.00000 |   960.00000 |   1760.00000 |   2670.00000 |   4120.00000 | ▇▆▅▆▁        |
| numeric   | chip_bags          | 2016 |         0 |             1 |  2752.352941 | 7.168838e+02 |  1610.00000 |  2205.00000 |   2640.00000 |   3210.00000 |   4430.00000 | ▆▇▆▃▂        |
| numeric   | chip_bags          | 2017 |         0 |             1 |  2237.090909 | 9.527964e+02 |   750.00000 |  1295.00000 |   2230.00000 |   3060.00000 |   3890.00000 | ▇▃▆▇▃        |
| numeric   | chip_bags          | 2018 |         0 |             1 |  1279.354839 | 5.988809e+02 |   300.00000 |   780.00000 |   1200.00000 |   1650.00000 |   2800.00000 | ▇▇▇▃▂        |
| numeric   | chip_bags          | 2019 |         0 |             1 |   929.500000 | 4.490226e+02 |   230.00000 |   652.50000 |    790.00000 |   1222.50000 |   2000.00000 | ▅▇▅▃▂        |
| numeric   | sports_balls       | 2014 |         0 |             1 |     6.045454 | 1.010515e+00 |     3.00000 |     6.00000 |      6.00000 |      7.00000 |      8.00000 | ▁▁▇▃▁        |
| numeric   | sports_balls       | 2015 |         0 |             1 |    17.436620 | 9.369757e+00 |     3.00000 |    10.00000 |     16.00000 |     22.00000 |     56.00000 | ▆▇▂▁▁        |
| numeric   | sports_balls       | 2016 |         0 |             1 |    25.666667 | 9.919005e+00 |     4.00000 |    19.00000 |     26.00000 |     33.50000 |     46.00000 | ▂▃▇▅▃        |
| numeric   | sports_balls       | 2017 |         0 |             1 |     9.636364 | 4.835684e+00 |     2.00000 |     6.00000 |      8.00000 |     12.00000 |     22.00000 | ▇▇▇▁▂        |
| numeric   | sports_balls       | 2018 |         0 |             1 |     4.817204 | 3.741501e+00 |     0.00000 |     2.00000 |      4.00000 |      7.00000 |     16.00000 | ▇▅▂▁▁        |
| numeric   | sports_balls       | 2019 |         0 |             1 |     9.066667 | 5.355843e+00 |     0.00000 |     4.50000 |      8.50000 |     13.75000 |     22.00000 | ▇▇▇▇▁        |
| numeric   | homes_powered      | 2014 |         0 |             1 |     0.000000 | 0.000000e+00 |     0.00000 |     0.00000 |      0.00000 |      0.00000 |      0.00000 | ▁▁▇▁▁        |
| numeric   | homes_powered      | 2015 |         0 |             1 |    38.086855 | 2.807631e+01 |     0.00000 |     0.00000 |     48.33333 |     58.00000 |     93.66667 | ▇▂▆▇▁        |
| numeric   | homes_powered      | 2016 |         0 |             1 |    53.787582 | 1.339967e+01 |    29.00000 |    44.33333 |     52.66667 |     62.33333 |     84.16667 | ▅▆▇▃▂        |
| numeric   | homes_powered      | 2017 |         0 |             1 |    52.981818 | 1.228040e+01 |    25.00000 |    43.50000 |     55.00000 |     62.75000 |     77.83333 | ▂▇▅▇▃        |
| numeric   | homes_powered      | 2018 |         0 |             1 |    55.625448 | 1.102562e+01 |    16.00000 |    50.50000 |     55.16667 |     62.83333 |     77.00000 | ▁▁▅▇▃        |
| numeric   | homes_powered      | 2019 |         0 |             1 |    51.377778 | 9.476926e+00 |    37.66667 |    45.50000 |     51.08333 |     55.12500 |     85.00000 | ▅▇▂▁▁        |

The dataset includes information about different kinds of trash
collected. For example, the total number of sports balls collected in
2019 was 272, and the median number is 8.5.

## Description for precipitation data for 2018 and 2019

The precipitation dataset contains data of total precipitation per month
from 2018 to 2019. It has 3 variables: month, total, year, with a
dimension of 24 rows and 3 columns. The total precipitation in year 2018
was 70.33.

# Problem 2

## Clean data in pols-month.csv

-   break up the variable `mon` into integer variables `year`, `month`,
    and `day`
-   replace month number with month name
-   create a `president` variable taking values `gop` and `dem`, and
    remove `prez_dem` and `prez_gop`
-   remove the `day` variable

``` r
pols_month_df <- read_csv("fivethirtyeight_datasets/pols-month.csv") %>%
  janitor::clean_names() %>%
  separate(mon, into = c("year", "month", "day"), convert = TRUE) %>%
  mutate(month = month.name[month],
         president = recode(prez_dem, `1` = "dem", `0` = "gop")) %>%
  select(-day, -prez_dem, -prez_gop)
```

``` r
unemploy_df <- read_csv("fivethirtyeight_datasets/unemployment.csv")
```
